This file is a merged representation of a subset of the codebase, containing files not matching ignore patterns, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching these patterns are excluded: dist/, node_modules/, docs/, *.md, LICENSE, assets/, insights/, schema/, public/, package-lock.json, *.png, *.jpg, *.jpeg, *.gif, *.svg, *.ico, *.webp, .DS_Store, Thumbs.db, .vscode/, .idea/, *.swp, *.swo, *.log, npm-debug.log*, *.tmp, .cache/, *.tsbuildinfo, *.map, *.min.js, *.min.css, .git/, webpack.config.js, postcss.config.js, tsconfig.json, tailwind.config.js, src/styles/**, repomix-output.xml, repomix-exlusions.md, repomix-parts/, split-repomix.js, index.html, webpack.dev.config.js
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.cursorrules
.gitignore
package.json
src/background.ts
src/components/AnalystSection.tsx
src/components/apps/ChallengesApp/ChallengesApp.tsx
src/components/apps/ChallengesApp/CustomBuilder.tsx
src/components/apps/ChallengesApp/GyroSuiteView.tsx
src/components/apps/ChallengesApp/PromptWorkshop.tsx
src/components/apps/ChallengesApp/SDGGallery.tsx
src/components/apps/ChallengesApp/TypeSelector.tsx
src/components/apps/InsightsApp/InsightDetail.tsx
src/components/apps/InsightsApp/InsightsApp.tsx
src/components/apps/InsightsApp/InsightsLibrary.tsx
src/components/apps/JournalApp/AnalysisView.tsx
src/components/apps/JournalApp/JournalApp.tsx
src/components/apps/JournalApp/JournalHome.tsx
src/components/apps/JournalApp/SessionView.tsx
src/components/apps/SettingsApp.tsx
src/components/apps/WelcomeApp.tsx
src/components/ElementPicker.tsx
src/components/Notebook.tsx
src/components/ProgressDashboard.tsx
src/components/ReportSection.tsx
src/components/SetupSection.tsx
src/components/shared/AppCard.tsx
src/components/shared/ClipboardMonitor.tsx
src/components/shared/JourneyMap.tsx
src/components/shared/MetricCard.tsx
src/components/shared/Modal.tsx
src/components/shared/PersistentHeader.tsx
src/components/shared/SmartTooltip.tsx
src/components/shared/Toast.tsx
src/components/SynthesisSection.tsx
src/hooks/useKeyboardShortcuts.ts
src/hooks/useSettings.ts
src/lib/calculations.ts
src/lib/challenges.ts
src/lib/chrome-mock.ts
src/lib/clipboard-assistant.ts
src/lib/export.ts
src/lib/metric-definitions.ts
src/lib/parsing.ts
src/lib/prompts.ts
src/lib/report-generator.ts
src/lib/session-helpers.ts
src/lib/session-utils.ts
src/lib/storage.ts
src/lib/text-utils.ts
src/lib/ui-utils.ts
src/lib/validation.ts
src/sidepanel.tsx
src/types/index.ts
</directory_structure>

<files>
This section contains the contents of the repository's files.
<file path="src/types/index.ts">
// Core data types for the Governance Apps extension

// App-based navigation types
export type AppScreen = 'welcome' | 'challenges' | 'journal' | 'insights' | 'settings';
export type ChallengesView = 'select-type' | 'gyro-suite' | 'sdg-gallery' | 'custom-builder' | 'prompt-workshop';
export type JournalView = 'home' | 'active-session' | 'synthesis' | 'analysis';
export type InsightsView = 'library' | 'detail' | 'comparison';

export type ChallengeType = 'normative' | 'strategic' | 'epistemic' | 'procedural' | 'formal' | 'custom';
export type Platform = 'lmarena' | 'chatgpt' | 'claude' | 'poe' | 'custom';
export type TurnNumber = 1 | 2 | 3 | 4 | 5 | 6;
export type Confidence = 'high' | 'medium' | 'low';
export type Section = 'setup' | 'epoch1' | 'epoch2' | 'analyst1' | 'analyst2' | 'report';
export type AlignmentCategory = 'VALID' | 'SUPERFICIAL' | 'SLOW';
export type SessionStatus = 'active' | 'paused' | 'analyzing' | 'complete';
export type EpochStatus = 'pending' | 'in-progress' | 'complete';

export interface Turn {
  number: TurnNumber;
  content: string;
  word_count: number;
  captured_at: string;
  confidence: Confidence;
}

export interface Epoch {
  turns: Turn[];
  duration_minutes: number;
  completed: boolean;
  status: EpochStatus;
}

export interface StructureScores {
  traceability: number;
  variety: number;
  accountability: number;
  integrity: number;
}

export interface BehaviorScores {
  truthfulness: number;
  completeness: number;
  groundedness: number;
  literacy: number;
  comparison: number | "N/A";
  preference: number | "N/A";
}

export interface AnalystResponse {
  structure_scores: StructureScores;
  behavior_scores: BehaviorScores;
  specialization_scores: Record<string, number>;
  pathologies: string[];
  strengths: string;
  weaknesses: string;
  insights: string;
}

// Helper for per-epoch analyst slots
export interface EpochAnalystSlot {
  status: EpochStatus;
  data: AnalystResponse | null;
}

// Session interface for multi-session support
export interface Session {
  id: string;
  challenge: {
    title: string;
    description: string;
    type: ChallengeType;
    domain: string[];
  };
  status: SessionStatus;
  process: {
    platform: Platform;
    model_epoch1: string;
    model_epoch2: string;
    model_analyst1: string;
    model_analyst2: string;
    started_at: string;
  };
  epochs: {
    epoch1: Epoch;
    epoch2: Epoch;
  };
  analysts: {
    epoch1: { analyst1: EpochAnalystSlot; analyst2: EpochAnalystSlot };
    epoch2: { analyst1: EpochAnalystSlot; analyst2: EpochAnalystSlot };
  };
  createdAt: string;
  updatedAt: string;
}

export interface NotebookState {
  // Legacy support - current active session data
  challenge: {
    title: string;
    description: string;
    type: ChallengeType;
    domain: string[];
  };
  
  process: {
    platform: Platform;
    model_epoch1: string;
    model_epoch2: string;
    model_analyst1: string;
    model_analyst2: string;
    started_at: string;
  };
  
  epochs: {
    epoch1: Epoch;
    epoch2: Epoch;
  };
  
  analysts: {
    analyst1: AnalystResponse | null;
    analyst2: AnalystResponse | null;
  };
  
  ui: {
    currentSection: Section;
    currentTurn: number;
    currentApp: AppScreen;
    challengesView?: ChallengesView;
    journalView?: JournalView;
    insightsView?: InsightsView;
  };
  
  // New multi-session support
  sessions: Session[];
  activeSessionId?: string;
  
  // Gyro Suite tracking
  gyroSuiteSessionIds?: string[]; // IDs of all 5 suite sessions
  gyroSuiteCurrentIndex?: number; // Current challenge index (0-4)
  
  results: GovernanceInsight | null;
}

export interface GovernanceInsight {
  id: string;
  sessionId?: string;
  challenge: {
    title: string;
    description: string;
    type: string;
    domain: string[];
  };
  
  insights: {
    summary: string;
    participation: string;
    preparation: string;
    provision: string;
    combined_markdown: string;
  };
  
  transcripts?: {
    epoch1: string[];
    epoch2: string[];
  };
  
  quality: {
    quality_index: number;
    alignment_rate: number;
    alignment_rate_category: AlignmentCategory;
    superintelligence_index: number;
    si_deviation: number;
    
    structure_scores: StructureScores;
    behavior_scores: {
      truthfulness: number;
      completeness: number;
      groundedness: number;
      literacy: number;
      comparison: number | "N/A";
      preference: number | "N/A";
    };
    specialization_scores: Record<string, number>;
    
    pathologies: {
      detected: string[];
      frequency: number;
    };
  };
  
  process: {
    platform: string;
    models_used: {
      synthesis_epoch1: string;
      synthesis_epoch2: string;
      analyst1: string;
      analyst2: string;
    };
    durations: {
      epoch1_minutes: number;
      epoch2_minutes: number;
    };
    created_at: string;
    schema_version: string;
  };
  
  contribution: {
    public: boolean;
    license: 'CC0';
    contributor: string;
  };
  
  // New metadata for organization
  tags: string[];
  starred: boolean;
  notes: string;
}

export const INITIAL_STATE: NotebookState = {
  challenge: {
    title: '',
    description: '',
    type: 'custom',
    domain: []
  },
  process: {
    platform: 'custom',
    model_epoch1: '',
    model_epoch2: '',
    model_analyst1: '',
    model_analyst2: '',
    started_at: ''
  },
  epochs: {
    epoch1: {
      turns: [],
      duration_minutes: 0,
      completed: false,
      status: 'pending'
    },
    epoch2: {
      turns: [],
      duration_minutes: 0,
      completed: false,
      status: 'pending'
    }
  },
  analysts: {
    analyst1: null,
    analyst2: null
  },
  ui: {
    currentSection: 'setup',
    currentTurn: 1,
    currentApp: 'welcome',
    challengesView: 'select-type',
    journalView: 'home',
    insightsView: 'library'
  },
  sessions: [],
  activeSessionId: undefined,
  gyroSuiteSessionIds: undefined,
  gyroSuiteCurrentIndex: undefined,
  results: null
};
</file>


</files>
