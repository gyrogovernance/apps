{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Governance Insight",
  "description": "Schema for validated governance insights from AI Inspector",
  "type": "object",
  "required": [
    "challenge",
    "insights",
    "quality",
    "process",
    "contribution"
  ],
  "properties": {
    "challenge": {
      "type": "object",
      "required": ["title", "description", "type", "domain"],
      "properties": {
        "title": { "type": "string", "minLength": 1 },
        "description": { "type": "string", "minLength": 10 },
        "type": {
          "type": "string",
          "enum": ["normative", "strategic", "epistemic", "procedural", "formal", "custom"]
        },
        "domain": {
          "type": "array",
          "items": { "type": "string" },
          "minItems": 0
        }
      }
    },
    "insights": {
      "type": "object",
      "required": ["summary", "participation", "preparation", "provision", "combined_markdown"],
      "properties": {
        "summary": { "type": "string" },
        "participation": { "type": "string" },
        "preparation": { "type": "string" },
        "provision": { "type": "string" },
        "combined_markdown": { "type": "string" }
      }
    },
    "quality": {
      "type": "object",
      "required": [
        "quality_index",
        "alignment_rate",
        "alignment_rate_category",
        "superintelligence_index",
        "si_deviation",
        "structure_scores",
        "behavior_scores",
        "specialization_scores",
        "pathologies"
      ],
      "properties": {
        "quality_index": {
          "type": "number",
          "minimum": 0,
          "maximum": 100
        },
        "alignment_rate": { "type": "number", "minimum": 0 },
        "alignment_rate_category": {
          "type": "string",
          "enum": ["VALID", "SUPERFICIAL", "SLOW"]
        },
        "superintelligence_index": { "type": "number", "minimum": 0 },
        "si_deviation": { "type": "number", "minimum": 1 },
        "structure_scores": {
          "type": "object",
          "required": ["traceability", "variety", "accountability", "integrity"],
          "properties": {
            "traceability": { "type": "number", "minimum": 1, "maximum": 10 },
            "variety": { "type": "number", "minimum": 1, "maximum": 10 },
            "accountability": { "type": "number", "minimum": 1, "maximum": 10 },
            "integrity": { "type": "number", "minimum": 1, "maximum": 10 }
          }
        },
        "behavior_scores": {
          "type": "object",
          "required": ["truthfulness", "completeness", "groundedness", "literacy", "comparison", "preference"],
          "properties": {
            "truthfulness": { "type": "number", "minimum": 0, "maximum": 10 },
            "completeness": { "type": "number", "minimum": 0, "maximum": 10 },
            "groundedness": { "type": "number", "minimum": 0, "maximum": 10 },
            "literacy": { "type": "number", "minimum": 0, "maximum": 10 },
            "comparison": { "type": "number", "minimum": 0, "maximum": 10 },
            "preference": { "type": "number", "minimum": 0, "maximum": 10 }
          }
        },
        "specialization_scores": {
          "type": "object",
          "additionalProperties": {
            "type": "number",
            "minimum": 1,
            "maximum": 10
          }
        },
        "pathologies": {
          "type": "object",
          "required": ["detected", "frequency"],
          "properties": {
            "detected": {
              "type": "array",
              "items": { "type": "string" }
            },
            "frequency": { "type": "number", "minimum": 0 }
          }
        }
      }
    },
    "process": {
      "type": "object",
      "required": ["platform", "models_used", "durations", "created_at", "schema_version"],
      "properties": {
        "platform": { "type": "string" },
        "models_used": {
          "type": "object",
          "required": ["synthesis_epoch1", "synthesis_epoch2", "analyst1", "analyst2"],
          "properties": {
            "synthesis_epoch1": { "type": "string" },
            "synthesis_epoch2": { "type": "string" },
            "analyst1": { "type": "string" },
            "analyst2": { "type": "string" }
          }
        },
        "durations": {
          "type": "object",
          "required": ["epoch1_minutes", "epoch2_minutes"],
          "properties": {
            "epoch1_minutes": { "type": "number", "minimum": 1 },
            "epoch2_minutes": { "type": "number", "minimum": 1 }
          }
        },
        "created_at": {
          "type": "string",
          "format": "date-time"
        },
        "schema_version": {
          "type": "string",
          "pattern": "^\\d+\\.\\d+\\.\\d+$"
        }
      }
    },
    "contribution": {
      "type": "object",
      "required": ["public", "license", "contributor"],
      "properties": {
        "public": { "type": "boolean" },
        "license": {
          "type": "string",
          "const": "CC0"
        },
        "contributor": { "type": "string" }
      }
    }
  }
}

